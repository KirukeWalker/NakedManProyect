<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_boss3_head</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>obj_enemy</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Variables
global.vidaboss = 20;
status = 0;
rotation_speed = 2;
speed = 10;
x_pos = x;
y_pos = y;
body_segments = 20;

/*Turning_direction
    -1  -    Left
    0   -   No turning
    1   -   -Right
*/
turning_direction = 0;
//Create body and tail
for(i = 0; i &lt; body_segments; i++)
{
    body[i] = instance_create(x-32*(i+1), y, FinalBoss3_Body_Test);
    if (i &gt; 0) body[i].object_to_follow = body[i-1];
}

//Get the player
player = instance_find(object5, 0);
//Get the camera
camera = instance_find(obj_camera2, 0);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//
left_branch_length = (irandom_range(2, 8));
rigth_branch_length = (irandom_range(2, 8));
//Parte de la iaquierda
for(i = 0; i &lt; left_branch_length; i++){
    branch = instance_create(672 - (i*32), 32, obj_falling_branch);
}
//Parte central
branch = instance_create(704, 32, obj_falling_branch);
//Parte derecha
for(i = 0; i &lt; rigth_branch_length; i++){
    branch = instance_create(736 + (i*32), 32, obj_falling_branch);
}
//Reseta cuenta
alarm_set(1, 128);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//
tronco = instance_create(704, 32, obj_falling_tree);
alarm_set(0, 32);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//
switch(status){
    //Espera a que le player llegue a la posicion
    case 0:
        if(player.y &lt; 500 &amp;&amp; player.vsp == 0){
            //Cuadra la camara
            camera = instance_find(obj_camera2, 0);
            camera.status = 2;
            camera.objectiveX = 720;
            camera.objectiveY = 320;
            //
            player.status_locked = true;
            //
            with(obj_fire_wall) instance_destroy();
            //
            for(i = 416; i &lt; 1024; i+= 32){
                ascending_fire = instance_create(i, 640, obj_ascending_fire);
            }
            status = 1;
        }
    break;
    //Wait for the fire to ascend
    case 1:
        obj_ascending_fire.y -= 2;
        if(obj_ascending_fire.y &lt; 544){
            player.status_locked = false;
            status = 2;
            //Alarma para hacer más tronco
            alarm_set(0, 1);
            //Alarma para sacar ramas
            alarm_set(1, 65);
            //
            background_vspeed = 1;
            //Instance the lifebar
            lifeBar = instance_create(480, 100, obj_healthbar_anal);
        }
    break;
    //
    case 2:
        //Rotate towards the player
        //Ge the player´s position
        player_direction = point_direction(x,y, player.x, player.y);
        if(player_direction &gt; direction) 
            turning_direction = 1;
        else if(player_direction &lt; direction)
            turning_direction = -1;
        else
            turning_direction = 0;
        //Here we control the jump between 0 and 360
        if(abs(player_direction - direction) &gt; 180)
            turning_direction *= -1;
        //And rotate towards the player
        direction += turning_direction * rotation_speed;
        //
        image_angle = direction - 45;
    break;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_cacota">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//
global.vidaboss --;
with(other) instance_destroy();
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
